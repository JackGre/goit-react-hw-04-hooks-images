{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Placeholder/Placeholder.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Placeholder/Placeholder.js","components/Container/Container.js","App.js","components/api-service.js","reportWebVitals.js","index.js","components/Searchbar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","nameImag","handleNameImag","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","this","className","styles","Searchbar","SearchForm","type","button","onChange","input","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","images","onImgClick","map","id","webformatURL","tags","onClick","img","src","alt","ImageGallery","Button","modalRoot","document","querySelector","Modal","closeModalbyEsc","code","showModal","closeModalbyClick","target","window","addEventListener","removeEventListener","createPortal","backdrop","modal","children","Placeholder","text","title","Container","App","status","page","loader","modalContent","setNameImage","val","prevState","setPage","resetImages","modalImg","find","prevProps","fetch","then","res","ok","json","Promise","reject","Error","getImages","data","hits","length","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","largeImageURL","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d94e2d09.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2JfTI\",\"modal\":\"Modal_modal__1j7kC\",\"button\":\"Modal_button__5ACQO\",\"icon\":\"Modal_icon__g-KrH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1kS_4\",\"img\":\"ImageGalleryItem_img__1q2BW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Placeholder\":\"Placeholder_Placeholder__bqFyD\",\"gradient\":\"Placeholder_gradient__IL-wn\",\"title\":\"Placeholder_title__J7REU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1fELQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__36P5I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__1AEw6\"};","import React, { Component } from \"react\";\r\nimport styles from \"./SearchBar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n\r\n\r\n\r\nexport default class SearchBar extends Component {\r\n    state = {\r\n        nameImag: \"\",\r\n    };\r\n\r\n    handleNameImag = e => {\r\n        this.setState({ nameImag: e.currentTarget.value.toLowerCase() })\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        if (this.state.nameImag.trim() === '') {            \r\n            toast(\"Введите имя изображения!!!\");\r\n            return;\r\n        }\r\n        this.props.onSubmit(this.state.nameImag)\r\n        this.setState({ nameImag: '' })\r\n                \r\n    }\r\n\r\n   \r\n\r\n    render() {\r\n        const { nameImag } = this.state;\r\n        return (\r\n            \r\n            <header className={styles.Searchbar}>\r\n                <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n                    <button type=\"submit\" className={styles.button}>\r\n                        <span className=\"styles.SearchForm-button-label\">Поиск</span>\r\n                    </button>\r\n\r\n                    <input\r\n                       onChange={this.handleNameImag}\r\n                       className={styles.input}\r\n                       type=\"text\"\r\n                       autoComplete=\"off\"\r\n                       autoFocus\r\n                       placeholder=\"Поиск изображения и фото\"\r\n                       value={nameImag}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\n\r\nexport default function ImageGalleryItem({ images, onImgClick }) {\r\n  return images.map(({ id, webformatURL, tags }) => {\r\n    return (\r\n      <li\r\n        className={styles.ImageGalleryItem}\r\n        key={id}\r\n        onClick={() => onImgClick(id)}\r\n      >\r\n        <img className={styles.img} src={webformatURL} alt={tags} />\r\n      </li>\r\n    );\r\n  });\r\n  \r\n}","import React from 'react';\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nexport default function ImageGallery({ images, onImgClick }) {\r\n    return (\r\n        <ul className={styles.ImageGallery}>\r\n            <ImageGalleryItem images={images} onImgClick={onImgClick} />I\r\n        </ul>\r\n    )\r\n};","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nexport default function Button({ onClick }) {\r\n    return (\r\n        <button type=\"button\" onClick={() => onClick()} className={styles.button}>\r\n            Больше\r\n        </button>\r\n    \r\n    )\r\n }","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.closeModalbyEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeModalbyEsc);\r\n  }\r\n\r\n  closeModalbyEsc = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  closeModalbyClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { showModal } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={styles.backdrop} onClick={this.closeModalbyClick}>\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => showModal()}\r\n          className={styles.button}\r\n        >\r\n          \r\n        </button>\r\n        <div className={styles.modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport styles from \"./Placeholder.module.css\";\r\n\r\nexport default function Placeholder({ text }) {\r\n  return (\r\n    <section className={styles.Placeholder}>\r\n      <h1 className={styles.title}>{text}</h1>\r\n    </section>\r\n  );\r\n}","import React from \"react\";\r\nimport styles from \"./Container.module.css\";\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={styles.Container}>{children}</div>;\r\n}\r\n\r\n","import React, { Component } from 'react';\nimport { ToastContainer, toast} from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { getImages } from \"./components/api-service\";\nimport  Loader  from 'react-loader-spinner';\n\n\nimport SearchBar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Placeholder from './components/Placeholder';\nimport Container from './components/Container'\n\n\n\n\nexport default class App extends Component {\n  state = {\n    status: \"idel\",\n    nameImag: '',\n    page: 1,\n    images: [],\n    loader: false,\n    showModal: false,\n    modalContent: null,\n\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const { page, nameImag } = this.state;\n    if (nameImag !== prevState.nameImag || page !== prevState.page) {\n      if (page === 1) {\n            this.resetImages()\n      }\n      this.setState({ loader: true });\n            \n      getImages(page, nameImag)\n        .then((data) => {\n          if (data.hits.length < 12) {\n            toast(\"Больше нет изображений для загрузки((\")\n          }\n\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...data.hits],\n            status: \"resolved\",\n          }))\n        })\n        .catch(() => this.setState({ status: \"rejected\" }))\n        .finally(() => {\n          this.setState({ loader: false });\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        });\n    }\n    \n  }\n\n  setNameImage = (val) => {\n    this.setState((prevState) => {\n      if (prevState.nameImag === val.toLowerCase()) {\n        toast(\"Попробуйте что-то другое\");\n        return;\n      }\n      return { nameImag: val.toLowerCase(), page: 1,}\n    })\n  }\n\n  setPage = () => {\n    this.setState((prevState) => {\n      return {\n        page: prevState.page + 1\n      };\n    });\n  };\n\n \n\n  resetImages = () => {\n    this.setState({ images: []})\n  }\n\n  onImgClick = (id) => {\n    const modalImg = this.state.images.find((img) => img.id === id);\n    this.setState({ modalContent: modalImg });\n    this.showModal();\n  }\n  \n  showModal = () => {\n    this.setState((prevState) => {\n      return { showModal: !prevState.showModal };\n    });\n   }\n\n\n\n\n  render() {\n    const { status, showModal, images, loader, modalContent} = this.state;\n    return (\n      <Container>\n        <SearchBar onSubmit={this.setNameImage} />\n        {status === \"resolved\" ? (\n          <>\n            <ImageGallery images={images} onImgClick={this.onImgClick} />\n            <Button onClick={this.setPage} />\n          </>\n        ) : null}\n        {loader && (\n          <Loader\n            className=\"Loader\"\n            type=\"Grid\"\n            color=\"#9900cc\"\n            height={180}\n            width={180}\n          />\n        )}\n        {status === \"rejectid\" ? (\n          <Placeholder text=\"Произошла ошибка при получении изображения\" />\n        ) : null}\n        {showModal && (\n          <Modal showModal={this.showModal}>\n            <img src={modalContent.largeImageURL} alt={modalContent.tags} />\n          </Modal>\n        )}\n        \n\n        <ToastContainer autoClose={3000}/>\n      </Container>\n    );\n\n   }\n\n}","const API_KEY = \"22038917-87f11eaed3549b21cb4ab18a1\";\r\n\r\nexport const getImages = function (page, val) {\r\nreturn (\r\n    fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${val}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`)\r\n        .then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(\r\n                new Error(\"Нет изображения с таким именем(((\")\r\n            );\r\n        })\r\n    )\r\n    \r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__Q97kW\",\"SearchForm\":\"SearchBar_SearchForm__1LGS2\",\"button\":\"SearchBar_button__3mhsT\",\"SearchFormInput\":\"SearchBar_SearchFormInput__hINm5\"};"],"sourceRoot":""}